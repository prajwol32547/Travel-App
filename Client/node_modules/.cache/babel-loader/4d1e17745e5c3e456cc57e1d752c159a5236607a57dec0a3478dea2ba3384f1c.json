{"ast":null,"code":"import axios from \"axios\";\n\n// Export a function instead of a constant\nexport const refresh = async () => {\n  try {\n    const response = await axios.post(\"http://localhost:4000/user/refresh\", {\n      email: localStorage.getItem(\"email\")\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`\n      }\n    });\n\n    // Update the way you handle the response and set the new token\n    console.log(\"Refresh successful\");\n    localStorage.setItem(\"jwtToken\", response.data.accessToken);\n    return response.data.accessToken;\n  } catch (error) {\n    // Handle errors here\n    console.error(\"Refresh failed\", error);\n    throw error; // Re-throw the error to be handled where refresh is called\n  }\n};","map":{"version":3,"names":["axios","refresh","response","post","email","localStorage","getItem","headers","Authorization","console","log","setItem","data","accessToken","error"],"sources":["/home/prajwol/Travel-App/travelapp/Client/src/Atom/Refresh.js"],"sourcesContent":["import axios from \"axios\";\n\n// Export a function instead of a constant\nexport const refresh = async () => {\n\ttry {\n\t\tconst response = await axios.post(\n\t\t\t\"http://localhost:4000/user/refresh\",\n\t\t\t{\n\t\t\t\temail: localStorage.getItem(\"email\"),\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t\t// Update the way you handle the response and set the new token\n\t\tconsole.log(\"Refresh successful\");\n\t\tlocalStorage.setItem(\"jwtToken\", response.data.accessToken);\n\t\treturn response.data.accessToken;\n\t} catch (error) {\n\t\t// Handle errors here\n\t\tconsole.error(\"Refresh failed\", error);\n\t\tthrow error; // Re-throw the error to be handled where refresh is called\n\t}\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,OAAO,GAAG,YAAY;EAClC,IAAI;IACH,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,IAAI,CAChC,oCAAoC,EACpC;MACCC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;IACpC,CAAC,EACD;MACCC,OAAO,EAAE;QACRC,aAAa,EAAG,UAASH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE;MAC3D;IACD,CAAC,CACD;;IAED;IACAG,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACjCL,YAAY,CAACM,OAAO,CAAC,UAAU,EAAET,QAAQ,CAACU,IAAI,CAACC,WAAW,CAAC;IAC3D,OAAOX,QAAQ,CAACU,IAAI,CAACC,WAAW;EACjC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACf;IACAL,OAAO,CAACK,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtC,MAAMA,KAAK,CAAC,CAAC;EACd;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}